<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sanitized Page - Clean View</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-2xl mx-auto py-8 px-4">
        <a href="/" class="inline-flex items-center mb-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition font-semibold text-sm"><i data-feather="arrow-left" class="w-4 h-4 mr-2"></i> Back to Dashboard</a>
        <div class="alert alert-success d-flex align-items-center mb-3" role="alert" style="font-size:1rem;">
            <i data-feather="shield" class="me-2"></i>
            <div>This page has been sanitized and is considered safe for normal viewing. All dangerous elements have been removed.</div>
        </div>
        {% if has_clickables %}
        <div class="alert alert-warning d-flex align-items-center mb-3" role="alert" style="font-size:1rem;">
            <i data-feather="slash" class="me-2"></i>
            <span class="fw-bold me-1">Notice:</span> All clickable elements (links, buttons, forms, etc.) are visually present but have been disabled for your safety in this preview. Interactions will not work.
        </div>
        {% endif %}
        <div class="mt-8 rounded-xl shadow bg-white">
            <div class="px-6 py-3 bg-green-600 text-white rounded-t-xl flex items-center font-semibold"><i data-feather="eye" class="w-5 h-5 mr-2"></i> Sanitized Full Page Preview</div>
            <div class="px-6 py-4">
                <!-- Render sanitized HTML as a real page (styles applied) -->
                {{ html|safe }}
            </div>
        </div>
    </div>
    <!-- Feather Icons: Local dynamic loader -->
    <script>
      function loadFeatherAndReplace() {
        if (typeof feather !== 'undefined') {
          feather.replace();
        } else {
          var script = document.createElement('script');
          script.src = '/static/js/feather.min.js';
          script.onload = function() {
            if (typeof feather !== 'undefined') feather.replace();
          };
          document.head.appendChild(script);
        }
      }
      loadFeatherAndReplace();
    </script>
</body>
</html>
